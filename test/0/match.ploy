main = {

  tI = fn Int%Int
    match $
      0 ? 0
      (1) ? 1
      x ? -1
      / -2;;

  assert_eq(0 tI.0 "0")
  assert_eq(1 tI.1 "1")
  assert_eq(-1 tI.-1 "-1")

  tS = fn Str%Str
    match $
      "a" ? "a"
      ("b") ? "b"
      x ? "x"
      / "z";;

  assert(eq("a" tS."a") "a")
  assert(eq("b" tS."b") "b")
  assert(eq("x" tS."c") "c")
}
