
Ident =: ^T%T

ident:Ident = fn ^T%T $;

IdentI =: Ident<T=Int>
identI:IdentI = ident<T=Int>

extensible identE;
identE += fn Int%Int $;
identE += fn Str%Str $;

main = {
  assert.eq(1 ident.1)
  assert.eq("hi" ident."hi")

  one:Int = ident.1
  assert.eq(1 one)
  assert.eq(ident.1 ident.1)

  assert.eq(1 identI.1)
  assert.eq(identI.1 identI.1)

  assert.eq(identE.1 identE.1)
}

